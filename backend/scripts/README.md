# æ‰¹é‡ä¸Šä¼ è„šæœ¬ä½¿ç”¨æŒ‡å—

## ğŸ“¦ åŠŸèƒ½è¯´æ˜

`batch_upload.py` è„šæœ¬ç”¨äºæ‰¹é‡ä¸Šä¼  MP3 æ–‡ä»¶åˆ° Supabase Storageï¼Œè‡ªåŠ¨å¤„ç†ä¸­æ–‡æ–‡ä»¶åå’Œç‰¹æ®Šå­—ç¬¦é—®é¢˜ã€‚

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- âœ… ä½¿ç”¨ UUID é‡å‘½åæ–‡ä»¶ï¼Œé¿å…ä¸­æ–‡å­—ç¬¦é—®é¢˜
- âœ… æ‰¹é‡å¤„ç†æ•´ä¸ªæ–‡ä»¶å¤¹çš„ MP3 æ–‡ä»¶
- âœ… æ˜¾ç¤ºä¸Šä¼ è¿›åº¦å’Œè¯¦ç»†æ—¥å¿—
- âœ… å¯¼å‡ºåŸå§‹æ–‡ä»¶åä¸ URL çš„æ˜ å°„è¡¨
- âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

## ğŸ“‹ ä½¿ç”¨æ­¥éª¤

### 1. å®‰è£…ä¾èµ–

```bash
cd G:\å£°éŸ³åˆ†æ\Boke\backend
pip install supabase python-dotenv
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

ç¡®ä¿ `.env` æ–‡ä»¶åŒ…å«ï¼š
```env
SUPABASE_URL=https://wcetamrikreimmndnemy.supabase.co
SUPABASE_KEY=your-anon-key-here
```

### 3. ä¿®æ”¹ç›®æ ‡æ–‡ä»¶å¤¹

ç¼–è¾‘ `batch_upload.py`ï¼Œä¿®æ”¹ç¬¬ 19 è¡Œï¼š
```python
TARGET_FOLDER = r'G:\éŸ³é¢‘æ–‡ä»¶'  # æ”¹ä¸ºæ‚¨çš„å®é™…è·¯å¾„
```

### 4. è¿è¡Œè„šæœ¬

```bash
cd G:\å£°éŸ³åˆ†æ\Boke\backend
python scripts/batch_upload.py
```

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

```
ğŸµ Supabase éŸ³é¢‘æ–‡ä»¶æ‰¹é‡ä¸Šä¼ å·¥å…·
================================================================================
ğŸ“ æ‰«ææ–‡ä»¶å¤¹: G:\éŸ³é¢‘æ–‡ä»¶
--------------------------------------------------------------------------------
âœ“ æ‰¾åˆ° 5 ä¸ª MP3 æ–‡ä»¶

[1/5] ä¸Šä¼ ä¸­: é™ˆå¥•è¿…-å­¤å‹‡è€….mp3 (4.52 MB)
    âœ… [æˆåŠŸ] åŸå§‹: é™ˆå¥•è¿…-å­¤å‹‡è€….mp3
    -> é“¾æ¥: https://wcetamrikreimmndnemy.supabase.co/storage/v1/object/public/audio-files/a1b2c3d4e5f6.mp3

[2/5] ä¸Šä¼ ä¸­: G.E.M.-å…‰å¹´ä¹‹å¤–.mp3 (5.23 MB)
    âœ… [æˆåŠŸ] åŸå§‹: G.E.M.-å…‰å¹´ä¹‹å¤–.mp3
    -> é“¾æ¥: https://wcetamrikreimmndnemy.supabase.co/storage/v1/object/public/audio-files/f6e5d4c3b2a1.mp3

...

================================================================================
ğŸ“Š ä¸Šä¼ å®Œæˆç»Ÿè®¡:
   âœ“ æˆåŠŸ: 5 ä¸ªæ–‡ä»¶
   âœ— å¤±è´¥: 0 ä¸ªæ–‡ä»¶
   æ€»è®¡: 5 ä¸ªæ–‡ä»¶
================================================================================
âœ“ æ˜ å°„è¡¨å·²å¯¼å‡ºåˆ°: upload_mapping.txt

âœ… æ‰€æœ‰æ“ä½œå·²å®Œæˆï¼
```

## ğŸ“„ æ˜ å°„è¡¨æ–‡ä»¶

ä¸Šä¼ å®Œæˆåï¼Œä¼šç”Ÿæˆ `upload_mapping.txt` æ–‡ä»¶ï¼š

```
éŸ³é¢‘æ–‡ä»¶ä¸Šä¼ æ˜ å°„è¡¨
====================================================================================================

åŸå§‹æ–‡ä»¶å: é™ˆå¥•è¿…-å­¤å‹‡è€….mp3
å…¬å¼€é“¾æ¥:   https://wcetamrikreimmndnemy.supabase.co/storage/v1/object/public/audio-files/a1b2c3d4e5f6.mp3
----------------------------------------------------------------------------------------------------

åŸå§‹æ–‡ä»¶å: G.E.M.-å…‰å¹´ä¹‹å¤–.mp3
å…¬å¼€é“¾æ¥:   https://wcetamrikreimmndnemy.supabase.co/storage/v1/object/public/audio-files/f6e5d4c3b2a1.mp3
----------------------------------------------------------------------------------------------------
```

## ğŸ”§ é«˜çº§ç”¨æ³•

### ä¸Šä¼ æŒ‡å®šæ–‡ä»¶å¤¹

ä¿®æ”¹è„šæœ¬ä¸­çš„ `TARGET_FOLDER` å˜é‡ï¼š
```python
TARGET_FOLDER = r'C:\Users\YourName\Music\MP3'
```

### è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶

ä¿®æ”¹å¯¼å‡ºå‡½æ•°è°ƒç”¨ï¼š
```python
uploader.export_mapping('my_mapping.txt')
```

### é€’å½’æ‰«æå­æ–‡ä»¶å¤¹

è„šæœ¬é»˜è®¤ä¼šé€’å½’æ‰«ææ‰€æœ‰å­æ–‡ä»¶å¤¹ä¸­çš„ MP3 æ–‡ä»¶ã€‚

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶å¤§å°é™åˆ¶**
   - ç¡®ä¿ Supabase Bucket çš„æ–‡ä»¶å¤§å°é™åˆ¶è¶³å¤Ÿ
   - å»ºè®®å•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 10 MB

2. **å­˜å‚¨ç©ºé—´**
   - å…è´¹å¥—é¤ï¼š1 GB å­˜å‚¨
   - æ£€æŸ¥å‰©ä½™ç©ºé—´

3. **ç½‘ç»œç¨³å®šæ€§**
   - ä¸Šä¼ å¤§é‡æ–‡ä»¶éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥
   - è„šæœ¬ä¼šæ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„ä¸Šä¼ è¿›åº¦

4. **é‡å¤ä¸Šä¼ **
   - UUID æ–‡ä»¶åç¡®ä¿ä¸ä¼šè¦†ç›–å·²æœ‰æ–‡ä»¶
   - æ¯æ¬¡è¿è¡Œéƒ½ä¼šç”Ÿæˆæ–°çš„æ–‡ä»¶å

## ğŸ› æ•…éšœæ’é™¤

### é”™è¯¯ï¼šæ–‡ä»¶å¤¹ä¸å­˜åœ¨

```bash
âŒ é”™è¯¯: ç›®æ ‡æ–‡ä»¶å¤¹ä¸å­˜åœ¨
```
**è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥ `TARGET_FOLDER` è·¯å¾„æ˜¯å¦æ­£ç¡®ã€‚

### é”™è¯¯ï¼šæœªæ‰¾åˆ° Supabase é…ç½®

```bash
âŒ é”™è¯¯: è¯·åœ¨ .env æ–‡ä»¶ä¸­è®¾ç½® SUPABASE_URL å’Œ SUPABASE_KEY
```
**è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿ `.env` æ–‡ä»¶åœ¨ `backend` ç›®å½•ä¸‹ï¼Œä¸”åŒ…å«æ­£ç¡®çš„é…ç½®ã€‚

### é”™è¯¯ï¼šä¸Šä¼ å¤±è´¥

```bash
âŒ [å¤±è´¥] filename.mp3
-> é”™è¯¯: ...
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®è®¤ Bucket å­˜åœ¨ä¸”ä¸º Public
- æ£€æŸ¥ Supabase API Key æƒé™

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Supabase Storage æ–‡æ¡£](https://supabase.com/docs/guides/storage)
- [Python Supabase å®¢æˆ·ç«¯](https://github.com/supabase-community/supabase-py)
